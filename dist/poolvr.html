<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">

    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" href="favicon.ico">

    <title>poolvr</title>

    <link rel="stylesheet" href="poolvr.css">

<script>
var WebVRConfig = {
  "KEYBOARD_CONTROLS_DISABLED": true,
  "PREDICTION_TIME_S": 0.02,
  "K_FILTER": 0.98,
  "MOUSE_KEYBOARD_CONTROLS_DISABLED": false,
  "LEAP_MOTION_HOST": "192.168.1.200",
  "ENABLE_LEAP_MOTION": false,
  "FORCE_ENABLE_VR": false,
  "YAW_ONLY": false,
  "TOUCH_PANNER_DISABLED": false
};

var POOLVR = {
  "config": {
    "useSpotLight": true,
    "H_ceiling": 2.4383999999999997,
    "toolOptions": {
      "numSegments": 8,
      "tipShape": "Cylinder",
      "toolLength": 0.37,
      "tipRadius": 0.01,
      "toolMass": 0.54,
      "toolRadius": 0.01,
      "interactionPlaneOpacity": 0.22,
      "useImplicitCylinder": true,
      "offset": [
        0,
        0,
        0.185
      ],
      "tipLength": 0.37
    },
    "gravity": 9.8,
    "H_table": 0.77,
    "useShadowMap": false,
    "useBasicMaterials": true,
    "synthSpeakerVolume": 0.5,
    "useTextGeomLogger": true,
    "L_table": 2.3368,
    "usePointLight": false,
    "ball_diameter": 0.05715
  },
  "version": "0.2.6"
};

var THREEPY_SCENE = {"metadata": {"type": "Object", "generator": "three.py", "version": 4.4}, "images": [], "materials": [{"type": "MeshBasicMaterial", "name": "floorMaterial", "uuid": "1d44ecaa-a787-48c1-8bec-a8cb211d9fad", "color": 8704}, {"color": 7829367, "type": "MeshPhongMaterial", "name": "headSpotMaterial", "uuid": "57792a74-5a59-4b7d-a2f8-3f55d44ff62f", "shading": 1}, {"name": "surfaceMaterial", "shininess": 5, "color": 43520, "type": "MeshPhongMaterial", "uuid": "29844ec2-307e-44e7-908d-42a654d95cde", "shading": 1}, {"name": "cushionMaterial", "shininess": 5, "color": 165956, "type": "MeshPhongMaterial", "uuid": "858b07df-2191-4587-8e34-866913f4ef68", "shading": 1}, {"name": "railMaterial", "shininess": 10, "color": 14525440, "type": "MeshPhongMaterial", "uuid": "e621923f-3876-4bbc-bf45-39fa554f1c4e", "shading": 1}], "object": {"position": [0.0, 0.0, 0.0], "name": "unnamed Scene 0", "scale": [1.0, 1.0, 1.0], "children": [{"position": [0.0, 0.0, 0.0], "name": "poolTable", "scale": [1.0, 1.0, 1.0], "children": [{"userData": {"cannonData": {"shapes": ["Box"], "mass": 0}}, "position": [0.0, 0.7573, 0.0], "name": "playableSurfaceMesh", "children": [], "type": "Mesh", "geometry": "3cf0558c-6967-4696-8cc7-9cf1760e4cc7", "uuid": "a248d1b8-91ea-433c-911a-43dd40c92844", "scale": [1.0, 1.0, 1.0], "rotation": [0.0, 0.0, 0.0], "receiveShadow": true, "material": "29844ec2-307e-44e7-908d-42a654d95cde"}, {"position": [0.0, 0.7702, 0.5842], "name": "unnamed Mesh 0", "children": [], "type": "Mesh", "geometry": "0df4707c-eab8-4fe1-956a-553a2b313207", "uuid": "a5505658-18bd-4598-bd53-cd9393129bb1", "scale": [1.0, 1.0, 1.0], "rotation": [-1.5707963267948966, 0.0, 0.3141592653589793], "receiveShadow": true, "material": "57792a74-5a59-4b7d-a2f8-3f55d44ff62f"}, {"userData": {"cannonData": {"shapes": ["ConvexPolyhedron"], "mass": 0}}, "position": [0.0, 0.77, 1.143], "name": "headCushionMesh", "children": [], "type": "Mesh", "geometry": "5c94aaec-c758-4e36-99f8-feb92767c5a5", "uuid": "792b0d9e-9a67-4cff-a375-67db88ce3fdf", "scale": [1.0, 1.0, 1.0], "rotation": [0.0, 0.0, 0.0], "receiveShadow": true, "material": "858b07df-2191-4587-8e34-866913f4ef68"}, {"userData": {"cannonData": {"shapes": ["ConvexPolyhedron"], "mass": 0}}, "position": [0.0, 0.77, -1.143], "name": "footCushionMesh", "children": [], "type": "Mesh", "geometry": "5c94aaec-c758-4e36-99f8-feb92767c5a5", "uuid": "bcd28001-d3c5-45eb-b771-b5f73c37dd66", "scale": [1.0, 1.0, 1.0], "rotation": [0.0, 3.141592653589793, 0.0], "receiveShadow": true, "material": "858b07df-2191-4587-8e34-866913f4ef68"}, {"userData": {"cannonData": {"shapes": ["ConvexPolyhedron"], "mass": 0}}, "position": [-0.5588000000000001, 0.77, 0.5842], "name": "leftHeadCushionMesh", "children": [], "type": "Mesh", "geometry": "ec5207ee-13be-4827-b43c-3f6bf6ced37b", "uuid": "35902dac-1279-4e7c-bdef-f4cd4f0c99d0", "scale": [1.0, 1.0, 1.0], "rotation": [0.0, -1.5707963267948966, 0.0], "receiveShadow": true, "material": "858b07df-2191-4587-8e34-866913f4ef68"}, {"userData": {"cannonData": {"shapes": ["ConvexPolyhedron"], "mass": 0}}, "position": [-0.5588000000000001, 0.77, -0.5842], "name": "leftFootCushionMesh", "children": [], "type": "Mesh", "geometry": "22d1f83f-d030-4c60-bc7c-d972d457d90d", "uuid": "993113a5-b2f3-4e19-9ca6-2c6c2e146e94", "scale": [1.0, 1.0, 1.0], "rotation": [0.0, -1.5707963267948966, 0.0], "receiveShadow": true, "material": "858b07df-2191-4587-8e34-866913f4ef68"}, {"userData": {"cannonData": {"shapes": ["ConvexPolyhedron"], "mass": 0}}, "position": [0.5588000000000001, 0.77, 0.5842], "name": "rightHeadCushionMesh", "children": [], "type": "Mesh", "geometry": "22d1f83f-d030-4c60-bc7c-d972d457d90d", "uuid": "da585c52-779f-4df8-aa59-1344e6501cef", "scale": [1.0, 1.0, 1.0], "rotation": [0.0, 1.5707963267948966, 0.0], "receiveShadow": true, "material": "858b07df-2191-4587-8e34-866913f4ef68"}, {"userData": {"cannonData": {"shapes": ["ConvexPolyhedron"], "mass": 0}}, "position": [0.5588000000000001, 0.77, -0.5842], "name": "rightFootCushionMesh", "children": [], "type": "Mesh", "geometry": "ec5207ee-13be-4827-b43c-3f6bf6ced37b", "uuid": "720726bf-ca32-4c78-9a22-782d112838a1", "scale": [1.0, 1.0, 1.0], "rotation": [0.0, 1.5707963267948966, 0.0], "receiveShadow": true, "material": "858b07df-2191-4587-8e34-866913f4ef68"}, {"userData": {"cannonData": {"shapes": ["Box"], "mass": 0}}, "position": [0.0, 0.79268140625, 1.2065000000000001], "name": "headRailMesh", "children": [], "type": "Mesh", "geometry": "c6bd514e-c3a7-474a-91de-d225e42e7938", "uuid": "e1a9b8fb-00a4-4cc2-bd8a-21e0f7da29fe", "scale": [1.0, 1.0, 1.0], "rotation": [0.0, 0.0, 0.0], "receiveShadow": true, "material": "e621923f-3876-4bbc-bf45-39fa554f1c4e"}, {"userData": {"cannonData": {"shapes": ["Box"], "mass": 0}}, "position": [0.0, 0.79268140625, -1.2065000000000001], "name": "footRailMesh", "children": [], "type": "Mesh", "geometry": "c6bd514e-c3a7-474a-91de-d225e42e7938", "uuid": "7b675836-b24b-4002-ae56-6a3596db51ef", "scale": [1.0, 1.0, 1.0], "rotation": [0.0, 3.141592653589793, 0.0], "receiveShadow": true, "material": "e621923f-3876-4bbc-bf45-39fa554f1c4e"}, {"userData": {"cannonData": {"shapes": ["Box"], "mass": 0}}, "position": [-0.6223000000000001, 0.79268140625, 0.5842], "name": "leftHeadRailMesh", "children": [], "type": "Mesh", "geometry": "c6bd514e-c3a7-474a-91de-d225e42e7938", "uuid": "080d758a-a238-4896-8534-7e43a6fdddc0", "scale": [1.0, 1.0, 1.0], "rotation": [0.0, 1.5707963267948966, 0.0], "receiveShadow": true, "material": "e621923f-3876-4bbc-bf45-39fa554f1c4e"}, {"userData": {"cannonData": {"shapes": ["Box"], "mass": 0}}, "position": [0.6223000000000001, 0.79268140625, 0.5842], "name": "rightHeadRailMesh", "children": [], "type": "Mesh", "geometry": "c6bd514e-c3a7-474a-91de-d225e42e7938", "uuid": "2a05ecd1-1bac-4c66-9520-7507c9a46fee", "scale": [1.0, 1.0, 1.0], "rotation": [0.0, 1.5707963267948966, 0.0], "receiveShadow": true, "material": "e621923f-3876-4bbc-bf45-39fa554f1c4e"}, {"userData": {"cannonData": {"shapes": ["Box"], "mass": 0}}, "position": [-0.6223000000000001, 0.79268140625, -0.5842], "name": "leftFootRailMesh", "children": [], "type": "Mesh", "geometry": "c6bd514e-c3a7-474a-91de-d225e42e7938", "uuid": "8271deb7-5dc4-4de4-907c-8d954ea41555", "scale": [1.0, 1.0, 1.0], "rotation": [0.0, 1.5707963267948966, 0.0], "receiveShadow": true, "material": "e621923f-3876-4bbc-bf45-39fa554f1c4e"}, {"userData": {"cannonData": {"shapes": ["Box"], "mass": 0}}, "position": [0.6223000000000001, 0.79268140625, -0.5842], "name": "rightFootRailMesh", "children": [], "type": "Mesh", "geometry": "c6bd514e-c3a7-474a-91de-d225e42e7938", "uuid": "87a0e2d2-8bef-454f-9b11-313d54d70097", "scale": [1.0, 1.0, 1.0], "rotation": [0.0, 1.5707963267948966, 0.0], "receiveShadow": true, "material": "e621923f-3876-4bbc-bf45-39fa554f1c4e"}], "rotation": [0.0, 0.0, 0.0], "type": "Object3D", "uuid": "6c807eb5-2ad2-4e8e-b28b-ec51cfb69db2"}, {"userData": {"cannonData": {"shapes": ["Plane"], "mass": 0}}, "position": [0.0, 0.0, 0.0], "name": "floorMesh", "children": [], "type": "Mesh", "geometry": "9a6fd16b-94ce-4c6e-b1ef-2379a7bf4efb", "uuid": "79d25545-e073-4e8a-b6d6-bb81c0874179", "scale": [1.0, 1.0, 1.0], "rotation": [-1.5707963267948966, 0.0, 0.0], "material": "1d44ecaa-a787-48c1-8bec-a8cb211d9fad"}], "rotation": [0.0, 0.0, 0.0], "type": "Scene", "uuid": "dbd3708e-5238-4863-9328-b9af0549e065"}, "geometries": [{"type": "BufferGeometry", "name": "unnamed HexaBufferGeometry 0", "uuid": "5c94aaec-c758-4e36-99f8-feb92767c5a5", "data": {"index": {"itemSize": 1, "type": "Uint16Array", "array": [3, 2, 1, 3, 1, 0, 4, 5, 6, 4, 6, 7, 0, 1, 5, 0, 5, 4, 1, 2, 6, 1, 6, 5, 2, 3, 7, 2, 7, 6, 7, 3, 0, 7, 0, 4]}, "attributes": {"position": {"itemSize": 3, "type": "Float32Array", "array": [-0.5130800000000001, 0.0, 0.0254, 0.5130800000000001, 0.0, 0.0254, 0.44718954123773624, 0.018145125, -0.02286, -0.44718954123773624, 0.018145125, -0.02286, -0.5130800000000001, 0.0453628125, 0.0254, 0.5130800000000001, 0.0453628125, 0.0254, 0.44718954123773624, 0.03629025, -0.0254, -0.44718954123773624, 0.03629025, -0.0254]}}}}, {"type": "BufferGeometry", "name": "unnamed HexaBufferGeometry 2", "uuid": "ec5207ee-13be-4827-b43c-3f6bf6ced37b", "data": {"index": {"itemSize": 1, "type": "Uint16Array", "array": [3, 2, 1, 3, 1, 0, 4, 5, 6, 4, 6, 7, 0, 1, 5, 0, 5, 4, 1, 2, 6, 1, 6, 5, 2, 3, 7, 2, 7, 6, 7, 3, 0, 7, 0, 4]}, "attributes": {"position": {"itemSize": 3, "type": "Float32Array", "array": [-0.5130800000000001, 0.0, 0.0254, 0.5130800000000001, 0.0, 0.0254, 0.44718954123773624, 0.018145125, -0.02286, -0.49029477061886817, 0.018145125, -0.02286, -0.5130800000000001, 0.0453628125, 0.0254, 0.5130800000000001, 0.0453628125, 0.0254, 0.44718954123773624, 0.03629025, -0.0254, -0.49029477061886817, 0.03629025, -0.0254]}}}}, {"radius": 0.0200025, "type": "CircleBufferGeometry", "segments": 5, "name": "spotGeom", "uuid": "0df4707c-eab8-4fe1-956a-553a2b313207"}, {"width": 1.0668000000000002, "height": 0.0254, "name": "unnamed BoxBufferGeometry 0", "depthSegments": 1, "type": "BoxBufferGeometry", "uuid": "3cf0558c-6967-4696-8cc7-9cf1760e4cc7", "heightSegments": 1, "widthSegments": 1, "depth": 2.2352000000000003}, {"type": "BufferGeometry", "name": "unnamed HexaBufferGeometry 1", "uuid": "22d1f83f-d030-4c60-bc7c-d972d457d90d", "data": {"index": {"itemSize": 1, "type": "Uint16Array", "array": [3, 2, 1, 3, 1, 0, 4, 5, 6, 4, 6, 7, 0, 1, 5, 0, 5, 4, 1, 2, 6, 1, 6, 5, 2, 3, 7, 2, 7, 6, 7, 3, 0, 7, 0, 4]}, "attributes": {"position": {"itemSize": 3, "type": "Float32Array", "array": [-0.5130800000000001, 0.0, 0.0254, 0.5130800000000001, 0.0, 0.0254, 0.49029477061886817, 0.018145125, -0.02286, -0.44718954123773624, 0.018145125, -0.02286, -0.5130800000000001, 0.0453628125, 0.0254, 0.5130800000000001, 0.0453628125, 0.0254, 0.49029477061886817, 0.03629025, -0.0254, -0.44718954123773624, 0.03629025, -0.0254]}}}}, {"width": 6, "height": 6, "name": "unnamed PlaneBufferGeometry 0", "heightSegments": 1, "widthSegments": 1, "type": "PlaneBufferGeometry", "uuid": "9a6fd16b-94ce-4c6e-b1ef-2379a7bf4efb"}, {"width": 1.0261600000000002, "height": 0.0453628125, "name": "unnamed BoxBufferGeometry 1", "depthSegments": 1, "type": "BoxBufferGeometry", "uuid": "c6bd514e-c3a7-474a-91de-d225e42e7938", "heightSegments": 1, "widthSegments": 1, "depth": 0.07619999999999999}], "textures": []};
</script>

  </head>

  <body onload="onLoad()">

    <canvas id="webgl-canvas"></canvas>

    <div id="overlay">

      <table><tr>
        <td>
          <h1>poolvr</h1>
          
<h3>v0.2.6</h3>
<table>
<tr>
<td>
<a href="https://github.com/jzitelli/poolvr/commit/a2a9678564442b4630e03dcaf6f236100cb99ad7">current commit</a>
</td>
<td>
<a href="https://github.com/jzitelli/poolvr/commit/6bc14f1f77649d84a8dcc82dd0b82adb29eb14cb">previous commit</a>
</td>
</tr>
</table>

        </td>
      </tr></table>

      <h2>
        <button id="vrButton">toggle VR</button>
        <button id="fsButton">toggle fullscreen</button>
      </h2>

      <div class="panel" id="graphicsPanel" style="float: left">
      <h3>Graphics:</h3>
        <label>
          <input type="checkbox" id="useBasicMaterials"/>
          EGA mode (max performance)
        </label>
        <br>
        <label>
          <input type="checkbox" id="useSpotLight"/>
          Spot light
        </label>
        <label>
          <input type="checkbox" id="usePointLight"/>
          Point light
        </label>
        <br>
        <label>
          <input type="checkbox" id="useShadowMap"/>
          Shadow maps
        </label>
      </div>

      <div class="panel" id="leapPanel" style="float: left">
        <h3>Leap Motion:</h3>
        <label>
          Websocket address:
          <input id="leapAddress" type="text" maxlength="18" />
        </label>
        <span id="leapIndicator">
          disconnected
        </span>
      </div>

      

    </div>


    <script src="node_modules/three/build/three.js"></script>

    <script src="node_modules/three/examples/js/effects/VREffect.js"></script>
    <script src="node_modules/three/examples/js/controls/VRControls.js"></script>
    <script src="node_modules/three/examples/js/objects/ShadowMesh.js"></script>
    <script src="node_modules/three/examples/js/loaders/OBJLoader.js"></script>

    <script src="node_modules/stats.js/build/stats.min.js"></script>

    <script src="node_modules/leapjs/leap-0.6.4.min.js"></script>

    <script src="node_modules/webvr-polyfill/build/webvr-polyfill.js"></script>

    <script src="node_modules/cannon/build/cannon.min.js"></script>

    <script src="node_modules/three.py/js/three.py.js"></script>
    <script src="node_modules/three.py/js/CANNONize.js"></script>


    <script src="build/poolvr.js"></script>


  </body>

</html>